º
HC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\AutoMapperProfile.cs
	namespace 	
	carportal
 
{ 
public 

class 
AutoMapperProfile "
:# $
Profile% ,
{ 
public		 
AutoMapperProfile		  
(		  !
)		! "
{

 	
	CreateMap 
< 
Car 
, 
	GetCarDto $
>$ %
(% &
)& '
;' (
	CreateMap 
< 
CreateCarDto "
," #
Car$ '
>' (
(( )
)) *
;* +
} 	
} 
} —.
PC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Controllers\CarController.cs
	namespace 	
	carportal
 
. 
Controllers 
{ 
[		 
ApiController		 
]		 
[

 
Route

 

(


 
$str

 
)

 
]

 
public 

class 
CarController 
:  
ControllerBase! /
{ 
private 
readonly 
ICarService $
_carService% 0
;0 1
public 
CarController 
( 
ICarService (

carService) 3
)3 4
{ 	
_carService 
= 

carService $
;$ %
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
getCars) 0
(0 1
)1 2
{ 	
return 
Ok 
( 
await 
_carService '
.' (
getCars( /
(/ 0
)0 1
)1 2
;2 3
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
public 
async 
Task 
< 
IActionResult '
>' (
getCar) /
(/ 0
int0 3
id4 6
)6 7
{ 	
ServiceResponse 
< 
	GetCarDto %
>% &
serviceResponse' 6
=7 8
await9 >
_carService? J
.J K
getCarK Q
(Q R
idR T
)T U
;U V
if!! 
(!! 
serviceResponse!! 
.!!  
Data!!  $
==!!% '
null!!( ,
)!!, -
{!!. /
return## 
NotFound## 
(## 
serviceResponse## .
)##. /
;##/ 0
}$$ 
return&& 
Ok&& 
(&& 
serviceResponse&& %
)&&% &
;&&& '
}'' 	
[)) 	
HttpGet))	 
()) 
$str)) )
)))) *
]))* +
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
getCarByBrand**) 6
(**6 7
string**7 =
brand**> C
)**C D
{++ 	
ServiceResponse-- 
<-- 
List--  
<--  !
	GetCarDto--! *
>--* +
>--+ ,
serviceResponse--- <
=--= >
await--? D
_carService--E P
.--P Q
getCarsByBrand--Q _
(--_ `
brand--` e
)--e f
;--f g
if// 
(// 
serviceResponse// 
.//  
Data//  $
==//% '
null//( ,
)//, -
{00 
return22 
NotFound22 
(22  
serviceResponse22  /
)22/ 0
;220 1
}33 
return55 
Ok55 
(55 
serviceResponse55 %
)55% &
;55& '
}66 	
[99 	
HttpPost99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
	createCar::) 2
(::2 3
CreateCarDto::3 ?
car::@ C
)::C D
{;; 	
return== 
Ok== 
(== 
await== 
_carService== '
.==' (
	createCar==( 1
(==1 2
car==2 5
)==5 6
)==6 7
;==7 8
}>> 	
[@@ 	
HttpPut@@	 
(@@ 
$str@@ 
)@@ 
]@@ 
publicAA 
asyncAA 
TaskAA 
<AA 
IActionResultAA '
>AA' (
	updateCarAA) 2
(AA2 3
UpdateCarDtoAA3 ?
carAA@ C
)AAC D
{BB 	
ServiceResponseDD 
<DD 
	GetCarDtoDD %
>DD% &
serviceResponseDD' 6
=DD7 8
awaitDD9 >
_carServiceDD? J
.DDJ K
	updateCarDDK T
(DDT U
carDDU X
)DDX Y
;DDY Z
ifFF 
(FF 
serviceResponseFF 
.FF 
DataFF #
==FF$ &
nullFF& *
)FF* +
{FF+ ,
returnGG 
NotFoundGG 
(GG 
serviceResponseGG .
)GG. /
;GG/ 0
}HH 
returnII 
OkII 
(II 
serviceResponseII %
)II% &
;II& '
}JJ 	
[LL 	

HttpDeleteLL	 
(LL 
$strLL $
)LL$ %
]LL% &
publicMM 
asyncMM 
TaskMM 
<MM 
IActionResultMM '
>MM' (
	deleteCarMM) 2
(MM2 3
intMM3 6
idMM7 9
)MM9 :
{NN 	
ServiceResponsePP 
<PP 
ListPP  
<PP  !
	GetCarDtoPP! *
>PP* +
>PP+ ,
serviceResponsePP- <
=PP= >
awaitPP? D
_carServicePPE P
.PPP Q
	deleteCarPPQ Z
(PPZ [
idPP[ ]
)PP] ^
;PP^ _
ifRR 
(RR 
serviceResponseRR 
.RR 
DataRR #
==RR$ &
nullRR& *
)RR* +
{RR+ ,
returnSS 
NotFoundSS 
(SS 
serviceResponseSS .
)SS. /
;SS/ 0
}TT 
returnUU 
OkUU 
(UU 
serviceResponseUU %
)UU% &
;UU& '
}VV 	
}WW 
}XX °
GC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Data\DataContext.cs
	namespace 	
	carportal
 
. 
Data 
{ 
public 

class 
DataContext 
: 
	DbContext (
{ 
public 
DataContext 
( 
DbContextOptions +
<+ ,
DataContext, 7
>7 8
options9 @
)@ A
:B C
baseD H
(H I
optionsI P
)P Q
{		 	
} 	
public 
DbSet 
< 
Car 
> 
Cars 
{  
get  #
;# $
set% (
;( )
}) *
} 
} Õ
^C:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Migrations\20210824085208_InitialCreate.cs
	namespace 	
	carportal
 
. 

Migrations 
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 
,

 
columns 
: 
table 
=> !
new" %
{ 
id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
trueQ U
)U V
,V W
price 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
type. 2
:2 3
$str4 9
,9 :
nullable; C
:C D
falseE J
)J K
,K L
rating 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
,L M
imageUrl 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
brand 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
trueR V
)V W
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% .
,. /
x0 1
=>2 4
x5 6
.6 7
id7 9
)9 :
;: ;
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
; 
}   	
}!! 
}"" ∏
AC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Models\Car.cs
	namespace 	
	carportal
 
. 
Models 
{ 
public 

class 
Car 
{ 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
=		0 1
$str		2 ?
;		? @
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
$str+ 0
;0 1
public 
int 
price 
{ 
get 
; 
set  #
;# $
}% &
=' (
$num) ,
;, -
public 
int 
rating 
{ 
get 
;  
set! $
;$ %
}& '
=( )
$num* +
;+ ,
public 
string 
imageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$str/ 4
;4 5
public 
string 
brand 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$str, 4
;4 5
public 
static 
implicit 
operator '
List( ,
<, -
object- 3
>3 4
(4 5
Car5 8
v9 :
): ;
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
} 
} Û
OC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Models\Dtos\CreateCarDto.cs
	namespace 	
	carportal
 
. 
Models 
. 
Dtos 
{ 
public 

class 
CreateCarDto 
{ 
public 
string 
description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
$str2 ?
;? @
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
$str+ 0
;0 1
public		 
int		 
price		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
=		' (
$num		) ,
;		, -
public 
int 
rating 
{ 
get 
;  
set! $
;$ %
}& '
=( )
$num* +
;+ ,
public 
string 
imageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$str/ 4
;4 5
public 
string 
brand 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$str, 4
;4 5
} 
} Ä
LC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Models\Dtos\GetCarDto.cs
	namespace 	
	carportal
 
. 
Models 
. 
Dtos 
{ 
public 

class 
	GetCarDto 
{ 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
$str2 ?
;? @
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
$str+ 0
;0 1
public

 
int

 
price

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
=

' (
$num

) ,
;

, -
public 
int 
rating 
{ 
get 
;  
set! $
;$ %
}& '
=( )
$num* +
;+ ,
public 
string 
imageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$str/ 4
;4 5
public 
string 
brand 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$str, 4
;4 5
} 
} ∂
OC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Models\Dtos\UpdateCarDto.cs
	namespace 	
	carportal
 
. 
Models 
. 
Dtos 
{ 
public 

class 
UpdateCarDto 
{ 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
=$ %
$num& '
;' (
public 
string 
description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
$str2 ?
;? @
public		 
string		 
name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
=		) *
$str		+ 0
;		0 1
public 
int 
price 
{ 
get 
; 
set  #
;# $
}% &
=' (
$num) ,
;, -
public 
int 
rating 
{ 
get 
;  
set! $
;$ %
}& '
=( )
$num* +
;+ ,
public 
string 
imageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$str/ 4
;4 5
public 
string 
brand 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$str, 4
;4 5
} 
} 
MC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Models\ServiceResponse.cs
	namespace 	
	carportal
 
. 
Models 
{ 
public 

class 
ServiceResponse  
<  !
T! "
>" #
{ 
public 
T 
Data 
{ 
get 
; 
set  
;  !
}" #
public 
bool 
	isSuccess 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
true. 2
;2 3
public

 
string

 
message

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
=

, -
null

. 2
;

2 3
} 
} ï

>C:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Program.cs
	namespace

 	
	carportal


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ˆ!
SC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Repositories\CarRepo\CarRepo.cs
	namespace

 	
	carportal


 
.

 
Repositories

  
.

  !
CarRepo

! (
{ 
public 

class 
CarRepo 
: 
ICarRepo #
{ 
private 
readonly 
DataContext $
_context% -
;- .
public 
CarRepo 
( 
DataContext "
dataContext# .
). /
{0 1
_context 
= 
dataContext "
;" #
} 	
public 
async 
Task 
< 
List 
< 
Car "
>" #
># $
	createCar% .
(. /
Car/ 2
car3 6
)6 7
{ 	
await 
_context 
. 
Cars 
.  
AddAsync  (
(( )
car) ,
), -
;- .
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
return 
await 
_context !
.! "
Cars" &
.& '
ToListAsync' 2
(2 3
)3 4
;4 5
} 	
public!! 
async!! 
Task!! 
<!! 
List!! 
<!! 
Car!! "
>!!" #
>!!# $
	deleteCar!!% .
(!!. /
Car!!/ 2
car!!3 6
)!!6 7
{"" 	
_context## 
.## 
Cars## 
.## 
Remove##  
(##  !
car##! $
)##$ %
;##% &
await$$ 
_context$$ 
.$$ 
SaveChangesAsync$$ +
($$+ ,
)$$, -
;$$- .
return&& 
await&& 
_context&& !
.&&! "
Cars&&" &
.&&& '
ToListAsync&&' 2
(&&2 3
)&&3 4
;&&4 5
}(( 	
public** 
async** 
Task** 
<** 
Car** 
>** 
getCar** %
(**% &
int**& )
id*** ,
)**, -
{++ 	
return,, 
await,, 
_context,, !
.,,! "
Cars,," &
.,,& '
FirstOrDefaultAsync,,' :
(,,: ;
c,,; <
=>,,= ?
c,,@ A
.,,A B
id,,B D
==,,E G
id,,H J
),,J K
;,,K L
}-- 	
public// 
async// 
Task// 
<// 
List// 
<// 
Car// "
>//" #
>//# $
getCars//% ,
(//, -
)//- .
{/// 0
return11 
await11 
_context11 !
.11! "
Cars11" &
.11& '
ToListAsync11' 2
(112 3
)113 4
;114 5
}22 	
public44 
async44 
Task44 
<44 
List44 
<44 
Car44 "
>44" #
>44# $
getCarsByBrand44% 3
(443 4
string444 :
brand44; @
)44@ A
{55 	
return66 
await66 
_context66 !
.66! "
Cars66" &
.66& '
Where66' ,
(66, -
c66- .
=>66/ 1
c662 3
.663 4
brand664 9
.669 :
Equals66: @
(66@ A
brand66A F
)66F G
)66G H
.66H I
ToListAsync66I T
(66T U
)66U V
;66V W
}88 	
public:: 
async:: 
Task:: 
<:: 
Car:: 
>:: 
	updateCar:: (
(::( )
Car::) ,
car::- 0
)::0 1
{;; 	
_context<< 
.<< 
Cars<< 
.<< 
Update<<  
(<<  !
car<<! $
)<<$ %
;<<% &
await== 
_context== 
.== 
SaveChangesAsync== +
(==+ ,
)==, -
;==- .
return?? 
car?? 
;?? 
}@@ 	
}AA 
}BB Œ
YC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Repositories\CarRepo\CreatedCarDto.cs
	namespace 	
	carportal
 
. 
Repositories  
.  !
CarRepo! (
{ 
public 

class 
CreatedCarDto 
{ 
} 
} ‘
TC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Repositories\CarRepo\ICarRepo.cs
	namespace 	
	carportal
 
. 
Repositories  
.  !
CarRepo! (
{ 
public 

	interface 
ICarRepo 
{ 
Task		 
<		 
List		 
<		 
Car		 
>		 
>		 
getCars		 
(		  
)		  !
;		! "
Task 
< 
Car 
> 
getCar 
( 
int 
id 
)  
;  !
Task 
< 
List 
< 
Car 
> 
> 
	createCar !
(! "
Car" %
car& )
)) *
;* +
Task 
< 
List 
< 
Car 
> 
> 
	deleteCar !
(! "
Car" %
car& )
)) *
;* +
Task 
< 
Car 
> 
	updateCar 
( 
Car 
car  #
)# $
;$ %
Task 
< 
List 
< 
Car 
> 
> 
getCarsByBrand &
(& '
string' -
brand. 3
)3 4
;4 5
} 
} Ùi
UC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Services\CarService\CarService.cs
	namespace

 	
	carportal


 
.

 
Services

 
.

 

CarService

 '
{ 
public 

class 

CarService 
: 
ICarService )
{ 
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
ICarRepo !
_carRepo" *
;* +
public 

CarService 
( 
IMapper !
mapper" (
,* +
ICarRepo, 4
carRepo5 <
)< =
{ 	
_mapper 
= 
mapper 
; 
_carRepo 
= 
carRepo 
; 
} 	
public 
async 
Task 
< 
ServiceResponse )
<) *
List* .
<. /
	GetCarDto/ 8
>8 9
>9 :
>: ;
getCars< C
(C D
)D E
{ 	
ServiceResponse 
< 
List  
<  !
	GetCarDto! *
>* +
>+ ,
serviceResponse- <
== >
new? B
ServiceResponseC R
<R S
ListS W
<W X
	GetCarDtoX a
>a b
>b c
(c d
)d e
;e f
List 
< 
Car 
> 
dbCars 
= 
await $
_carRepo% -
.- .
getCars. 5
(5 6
)6 7
;7 8
serviceResponse 
. 
Data  
=! "
(# $
dbCars$ *
.* +
Select+ 1
(1 2
c2 3
=>4 6
_mapper7 >
.> ?
Map? B
<B C
	GetCarDtoC L
>L M
(M N
cN O
)O P
)P Q
)Q R
.R S
ToListS Y
(Y Z
)Z [
;[ \
return   
serviceResponse   "
;  " #
}!! 	
public## 
async## 
Task## 
<## 
ServiceResponse## )
<##) *
	GetCarDto##* 3
>##3 4
>##4 5
getCar##6 <
(##< =
int##= @
id##A C
)##C D
{$$ 	
ServiceResponse%% 
<%% 
	GetCarDto%% %
>%%% &
serviceResponse%%' 6
=%%7 8
new%%9 <
ServiceResponse%%= L
<%%L M
	GetCarDto%%M V
>%%V W
(%%W X
)%%X Y
;%%Y Z
Car'' 
dbCar'' 
='' 
await'' 
_carRepo'' &
.''& '
getCar''' -
(''- .
id''. 0
)''0 1
;''1 2
if(( 
((( 
dbCar(( 
==(( 
null(( 
)(( 
{)) 
serviceResponse** 
.**  
Data**  $
=**% &
null**' +
;**+ ,
serviceResponse++ 
.++  
message++  '
=++( )
$str++* =
;++= >
serviceResponse,, 
.,,  
	isSuccess,,  )
=,,* +
false,,, 1
;,,1 2
}-- 
else.. 
{// 
serviceResponse00 
.00  
Data00  $
=00% &
_mapper00' .
.00. /
Map00/ 2
<002 3
	GetCarDto003 <
>00< =
(00= >
dbCar00> C
)00C D
;00D E
}11 
return33 
serviceResponse33 "
;33" #
}55 	
public99 
async99 
Task99 
<99 
ServiceResponse99 )
<99) *
List99* .
<99. /
	GetCarDto99/ 8
>998 9
>999 :
>99: ;
getCarsByBrand99< J
(99J K
string99K Q
brand99R W
)99W X
{:: 	
ServiceResponse;; 
<;; 
List;;  
<;;  !
	GetCarDto;;! *
>;;* +
>;;+ ,
serviceResponse;;- <
=;;= >
new;;? B
ServiceResponse;;C R
<;;R S
List;;S W
<;;W X
	GetCarDto;;X a
>;;a b
>;;b c
(;;c d
);;d e
;;;e f
List== 
<== 
Car== 
>== 
dbCars== 
=== 
await== $
_carRepo==% -
.==- .
getCarsByBrand==. <
(==< =
brand=== B
)==B C
;==C D
if?? 
(?? 
dbCars?? 
==?? 
null?? 
)?? 
{@@ 
serviceResponseBB 
.BB  
DataBB  $
=BB% &
nullBB' +
;BB+ ,
serviceResponseCC 
.CC  
messageCC  '
=CC( )
$strCC* =
;CC= >
serviceResponseDD 
.DD  
	isSuccessDD  )
=DD* +
falseDD, 1
;DD1 2
}FF 
serviceResponseHH 
.HH 
DataHH  
=HH! "
(HH# $
dbCarsHH$ *
.HH* +
SelectHH+ 1
(HH1 2
cHH2 3
=>HH4 6
_mapperHH7 >
.HH> ?
MapHH? B
<HHB C
	GetCarDtoHHC L
>HHL M
(HHM N
cHHN O
)HHO P
)HHP Q
)HHQ R
.HHR S
ToListHHS Y
(HHY Z
)HHZ [
;HH[ \
returnII 
serviceResponseII "
;II" #
}KK 	
publicOO 
asyncOO 
TaskOO 
<OO 
ServiceResponseOO )
<OO) *
ListOO* .
<OO. /
	GetCarDtoOO/ 8
>OO8 9
>OO9 :
>OO: ;
	createCarOO< E
(OOE F
CreateCarDtoOOF R
carOOS V
)OOV W
{PP 	
ServiceResponseRR 
<RR 
ListRR  
<RR  !
	GetCarDtoRR! *
>RR* +
>RR+ ,
serviceResponseRR- <
=RR= >
newRR? B
ServiceResponseRRC R
<RRR S
ListRRS W
<RRW X
	GetCarDtoRRX a
>RRa b
>RRb c
(RRc d
)RRd e
;RRe f
CarSS 
addCarSS 
=SS 
_mapperSS  
.SS  !
MapSS! $
<SS$ %
CarSS% (
>SS( )
(SS) *
carSS* -
)SS- .
;SS. /
ListTT 
<TT 
CarTT 
>TT 
dbCarsTT 
=TT 
awaitTT $
_carRepoTT% -
.TT- .
	createCarTT. 7
(TT7 8
addCarTT8 >
)TT> ?
;TT? @
serviceResponseVV 
.VV 
DataVV  
=VV! "
(VV# $
dbCarsVV$ *
.VV* +
SelectVV+ 1
(VV1 2
cVV2 3
=>VV4 6
_mapperVV7 >
.VV> ?
MapVV? B
<VVB C
	GetCarDtoVVC L
>VVL M
(VVM N
cVVN O
)VVO P
)VVP Q
)VVQ R
.VVR S
ToListVVS Y
(VVY Z
)VVZ [
;VV[ \
returnWW 
serviceResponseWW "
;WW" #
}XX 	
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
ServiceResponseZZ )
<ZZ) *
	GetCarDtoZZ* 3
>ZZ3 4
>ZZ4 5
	updateCarZZ6 ?
(ZZ? @
UpdateCarDtoZZ@ L
	updateCarZZM V
)ZZV W
{[[ 	
ServiceResponse]] 
<]] 
	GetCarDto]] %
>]]% &
serviceResponse]]' 6
=]]7 8
new]]9 <
ServiceResponse]]= L
<]]L M
	GetCarDto]]M V
>]]V W
(]]W X
)]]X Y
;]]Y Z
Car__ 

updatedCar__ 
=__ 
await__ "
_carRepo__# +
.__+ ,
getCar__, 2
(__2 3
	updateCar__3 <
.__< =
id__= ?
)__? @
;__@ A
ifaa 
(aa 

updatedCaraa 
!=aa 
nullaa "
)aa" #
{bb 
trycc 
{dd 

updatedCaree 
.ee 
nameee #
=ee$ %
	updateCaree& /
.ee/ 0
nameee0 4
;ee4 5

updatedCarff 
.ff 
descriptionff *
=ff+ ,
	updateCarff- 6
.ff6 7
descriptionff7 B
;ffB C

updatedCargg 
.gg 
brandgg $
=gg% &
	updateCargg' 0
.gg0 1
brandgg1 6
;gg6 7

updatedCarhh 
.hh 
pricehh $
=hh% &
	updateCarhh' 0
.hh0 1
pricehh1 6
;hh6 7

updatedCarii 
.ii 
ratingii %
=ii& '
	updateCarii( 1
.ii1 2
ratingii2 8
;ii8 9

updatedCarjj 
.jj 
imageUrljj '
=jj( )
	updateCarjj* 3
.jj3 4
imageUrljj4 <
;jj< =
awaitll 
_carRepoll "
.ll" #
	updateCarll# ,
(ll, -

updatedCarll- 7
)ll7 8
;ll8 9
serviceResponsemm #
.mm# $
Datamm$ (
=mm) *
_mappermm+ 2
.mm2 3
Mapmm3 6
<mm6 7
	GetCarDtomm7 @
>mm@ A
(mmA B

updatedCarmmB L
)mmL M
;mmM N
returnoo 
serviceResponseoo *
;oo* +
}rr 
catchss 
(ss 
	Exceptionss  
ess! "
)ss" #
{ss$ %
serviceResponsett #
.tt# $
	isSuccesstt$ -
=tt. /
falsett0 5
;tt5 6
serviceResponseuu #
.uu# $
messageuu$ +
=uu, -
euu. /
.uu/ 0
Messageuu0 7
;uu7 8
returnvv 
serviceResponsevv *
;vv* +
}ww 
}xx 
elseyy 
{yy 
serviceResponsezz 
.zz  
	isSuccesszz  )
=zz* +
falsezz, 1
;zz1 2
serviceResponse{{ 
.{{  
message{{  '
={{( )
$str{{* =
;{{= >
return|| 
serviceResponse|| &
;||& '
}}} 
} 	
public
ÅÅ 
async
ÅÅ 
Task
ÅÅ 
<
ÅÅ 
ServiceResponse
ÅÅ )
<
ÅÅ) *
List
ÅÅ* .
<
ÅÅ. /
	GetCarDto
ÅÅ/ 8
>
ÅÅ8 9
>
ÅÅ9 :
>
ÅÅ: ;
	deleteCar
ÅÅ< E
(
ÅÅE F
int
ÅÅF I
id
ÅÅJ L
)
ÅÅL M
{
ÇÇ 	
ServiceResponse
ÉÉ 
<
ÉÉ 
List
ÉÉ  
<
ÉÉ  !
	GetCarDto
ÉÉ! *
>
ÉÉ* +
>
ÉÉ+ ,
serviceResponse
ÉÉ- <
=
ÉÉ= >
new
ÉÉ? B
ServiceResponse
ÉÉC R
<
ÉÉR S
List
ÉÉS W
<
ÉÉW X
	GetCarDto
ÉÉX a
>
ÉÉa b
>
ÉÉb c
(
ÉÉc d
)
ÉÉd e
;
ÉÉe f
Car
ÖÖ 

removedCar
ÖÖ 
=
ÖÖ 
await
ÖÖ "
_carRepo
ÖÖ# +
.
ÖÖ+ ,
getCar
ÖÖ, 2
(
ÖÖ2 3
id
ÖÖ3 5
)
ÖÖ5 6
;
ÖÖ6 7
if
áá 
(
áá 

removedCar
áá 
!=
áá 
null
áá "
)
áá" #
{
àà 
try
ää 
{
ãã 
List
åå 
<
åå 
Car
åå 
>
åå 
dbCars
åå $
=
åå% &
await
åå' ,
_carRepo
åå- 5
.
åå5 6
	deleteCar
åå6 ?
(
åå? @

removedCar
åå@ J
)
ååJ K
;
ååK L
serviceResponse
éé #
.
éé# $
Data
éé$ (
=
éé) *
(
éé+ ,
dbCars
éé, 2
.
éé2 3
Select
éé3 9
(
éé9 :
c
éé: ;
=>
éé< >
_mapper
éé? F
.
ééF G
Map
ééG J
<
ééJ K
	GetCarDto
ééK T
>
ééT U
(
ééU V
c
ééV W
)
ééW X
)
ééX Y
)
ééY Z
.
ééZ [
ToList
éé[ a
(
ééa b
)
ééb c
;
ééc d
return
êê 
serviceResponse
êê *
;
êê* +
}
íí 
catch
ìì 
(
ìì 
	Exception
ìì  
e
ìì! "
)
ìì" #
{
îî 
serviceResponse
ïï #
.
ïï# $
	isSuccess
ïï$ -
=
ïï. /
false
ïï0 5
;
ïï5 6
serviceResponse
ññ #
.
ññ# $
message
ññ$ +
=
ññ, -
e
ññ. /
.
ññ/ 0
Message
ññ0 7
;
ññ7 8
return
óó 
serviceResponse
óó *
;
óó* +
}
òò 
}
öö 
else
õõ 
{
õõ 
serviceResponse
ùù 
.
ùù  
	isSuccess
ùù  )
=
ùù* +
false
ùù, 1
;
ùù1 2
serviceResponse
ûû 
.
ûû  
message
ûû  '
=
ûû( )
$str
ûû* =
;
ûû= >
return
üü 
serviceResponse
üü &
;
üü& '
}
†† 
}
°° 	
}
§§ 
}•• Ã
VC:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Services\CarService\ICarService.cs
	namespace 	
	carportal
 
. 
Models 
{ 
public 

	interface 
ICarService  
{ 
Task		 
<		 
ServiceResponse		 
<		 
List		 !
<		! "
	GetCarDto		" +
>		+ ,
>		, -
>		- .
getCars		/ 6
(		6 7
)		7 8
;		8 9
Task 
< 
ServiceResponse 
< 
List !
<! "
	GetCarDto" +
>+ ,
>, -
>- .
getCarsByBrand/ =
(= >
string> D
brandE J
)J K
;K L
Task 
< 
ServiceResponse 
< 
	GetCarDto &
>& '
>' (
getCar) /
(/ 0
int0 3
id4 6
)6 7
;7 8
Task 
< 
ServiceResponse 
< 
List !
<! "
	GetCarDto" +
>+ ,
>, -
>- .
	createCar/ 8
(8 9
CreateCarDto9 E
carF I
)I J
;J K
Task 
< 
ServiceResponse 
< 
	GetCarDto &
>& '
>' (
	updateCar) 2
(2 3
UpdateCarDto3 ?
	updateCar@ I
)I J
;J K
Task 
< 
ServiceResponse 
< 
List !
<! "
	GetCarDto" +
>+ ,
>, -
>- .
	deleteCar/ 8
(8 9
int9 <
id= ?
)? @
;@ A
} 
} é 
>C:\Users\hassan.munir\IdeaProjects\DotNet\carportal\Startup.cs
	namespace 	
	carportal
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDbContext !
<! "
DataContext" -
>- .
(. /
x/ 0
=>1 3
x4 5
.5 6
UseSqlServer6 B
(B C
ConfigurationC P
.P Q
GetConnectionStringQ d
(d e
$stre y
)y z
)z {
){ |
;| }
services 
. 
AddControllers #
(# $
)$ %
;% &
services 
. 
	AddScoped 
< 
ICarRepo '
,' (
CarRepo) 0
>0 1
(1 2
)2 3
;3 4
services   
.   
	AddScoped   
<   
ICarService   *
,  * +

CarService  + 5
>  5 6
(  6 7
)  7 8
;  8 9
services!! 
.!! 
AddAutoMapper!! "
(!!" #
typeof!!# )
(!!) *
Startup!!* 1
)!!1 2
)!!2 3
;!!3 4
services## 
.## 
AddSwaggerGen## "
(##" #
c### $
=>##% '
{$$ 
c%% 
.%% 

SwaggerDoc%% 
(%% 
$str%% !
,%%! "
new%%# &
OpenApiInfo%%' 2
{%%3 4
Title%%5 :
=%%; <
$str%%= H
,%%H I
Version%%J Q
=%%R S
$str%%T X
}%%Y Z
)%%Z [
;%%[ \
}&& 
)&& 
;&& 
}'' 	
public** 
void** 
	Configure** 
(** 
IApplicationBuilder** 1
app**2 5
,**5 6
IWebHostEnvironment**7 J
env**K N
)**N O
{++ 	
app-- 
.-- 
UseCors-- 
(-- 
x-- 
=>-- 
x-- 
... 
AllowAnyOrigin.. 
(.. 
).. 
.// 
AllowAnyMethod// 
(// 
)// 
.00 
AllowAnyHeader00 
(00 
)00 
)00 
;00 
if22 
(22 
env22 
.22 
IsDevelopment22 !
(22! "
)22" #
)22# $
{33 
app44 
.44 %
UseDeveloperExceptionPage44 -
(44- .
)44. /
;44/ 0
app55 
.55 

UseSwagger55 
(55 
)55  
;55  !
app66 
.66 
UseSwaggerUI66  
(66  !
c66! "
=>66# %
c66& '
.66' (
SwaggerEndpoint66( 7
(667 8
$str668 R
,66R S
$str66T b
)66b c
)66c d
;66d e
}77 
app99 
.99 

UseRouting99 
(99 
)99 
;99 
app;; 
.;; 
UseAuthorization;;  
(;;  !
);;! "
;;;" #
app== 
.== 
UseEndpoints== 
(== 
	endpoints== &
=>==' )
{>> 
	endpoints?? 
.?? 
MapControllers?? (
(??( )
)??) *
;??* +
}@@ 
)@@ 
;@@ 
}AA 	
}BB 
}CC 